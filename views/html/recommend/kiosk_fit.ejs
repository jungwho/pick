<!DOCTYPE html>
<html lang="en">
<head>
    <title>fit</title>
    <link href="../../css/recommend/recommend.css" rel = "stylesheet"/>
    <link href="../../css/recommend/fit.css" rel = "stylesheet"/>
</head>
<body>
    <!-- logo -->
    <div class = nav-container>
        <a class = logo href="/home"><p>:<span>P</span></p>ICK</a>
    </div>

    <div class = recommend-container>
        <!-- title -->
        <div class = title-container>
            <p>CHOOSE THE <span>FIT</span> OF YOUR CLOTHES.</p>
        </div>

        <!-- select -->
        <div class = fit-container>
            <img style = "width: 14.5%;" src="../../image/head.png"/>
            <div class = fit id = top style = "width: 32.5%;">
                <img src="../../image/top.png"/>
                <div>
                    <form id="fitForm" action="/fit" method="post">
                        <input name="fit" id = fitTight type="radio" value="tight" onclick='topTight()'>
                            <p id = top-tight onclick="topTight()" data-value = top-tight>TIGHT</p>
                            <input type="submit">
                    </form>
                    <form id="fitForm" action="/fit" method="post">
                        <input name="fit" id = fitLoose type="radio" value="loose" onclick='topLoose()'>
                            <p id = top-loose onclick="topLoose()" data-value = top-loose>LOOSE</p>
                            <input type="submit">
                    </form>
                </div>
            </div>
            <div class = fit id = bottom style = "width: 15.5%;">
                <img id = bottom-img src="../../image/bottom.png"/>
                <div id = bottom-text>
                    <a href="/result" onclick="movePage()">TIGHT</a>
                    <a href="/result" onclick="movePage()">LOOSE</a>
                </div>
            </div>
        </div>

        <!-- previous -->
        <div class = previous-container>
            <a class = logo href="/color"><p>:<span>P</span></p>REVIOUS</a>
        </div>
    </div>

    <script type="text/javascript"  src="/server.js">
    document.getElementById("fitForm").addEventListener("submit", function (event) {
            event.preventDefault();
                const fitTight = document.getElementById("fitTight");
                const fitLoose = document.getElementById("purposeFormal");
        
                let selectedFit;
                if (fitTight.checked) {
                    selectedPurpose = fitTight.value;
                } else if (fitLoose.checked) {
                    selectedPurpose = fitLoose.value;
                }

                const formData = {
                    fit: selectedFit,
                };
        
            fetch("/fit", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(formData),
            })
                .then((response) => response.json())
                .then((data) => {
                    console.log(data);
                    // Handle the response data here
                })
                .catch((error) => {
                    console.error("Error:", error);
                    // Handle any errors here
                });
        });
    </script>
</body>
</html>